<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../cipher-input/cipher-input.html">

<dom-module id="monoalphabetic-cipher">
    <template>
        <style>
            :host {
                display: block;
            }
        </style>

        <cipher-input cipher-title="Mono Alphabetic Cipher" plain-text="{{monoPlainText}}" key="{{monoKey}}"
                      cipher-text="{{monoCipherText}}" max-length="26" min-length="26"
                      error-message="Length of Key must be 26"></cipher-input>

    </template>

    <script>
        Polymer({

            is: 'monoalphabetic-cipher',

            properties: {
                monoPlainText: {
                    type: String,
                    notify: true
                },
                monoKey: {
                    type: String,
                    value: "ISYVKJRUXEDZQMCTPLOFNBWGAH",
                    notify: true
                },
                alphabet: {
                    type: String,
                    value: 'abcdefghijklmnopqrstuvwxyz',
                    readOnly: true
                },
                monoCipherText: {
                    type: String,
                    computed: 'computeMonoText(monoPlainText, monoKey, alphabet)'
                }
            },
            computeMonoText: function (monoPlainText, monoKey, alphabet) {

                return monoPlainText.toLowerCase().split('').map(function (value) {
                    if (alphabet.indexOf(value) !== -1) {
                        return (monoKey.toLowerCase().split(''))[alphabet.indexOf(value)];
                    }
                    else return value;
                }).join('');

            }

        });

    </script>
</dom-module>
